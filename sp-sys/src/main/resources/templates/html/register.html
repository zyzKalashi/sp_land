<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="common :: head">
<title id="pageTitle">会员注册~四平市铁西区农经总站土地流转管理平台</title>
</head>

<body>
	<div id="app" v-cloak>
		<header th:include="common :: header"></header>
		<div th:include="common :: nav"></div>
		<!-- Content Begin -->
		<p class="location2">
			<span></span>当前位置：<a href="/">首页</a> > <a
				href="/Column_Channel.asp?Column_ID=27984">会员注册</a>
		</p>

		<div class="main3 public2 clear">
			<div class="main_r" style="width: auto;">
				<h3 class="col_Name c4">平台会员注册系统</h3>
				<div class="Column_content">
					<form data-am-validator id="registerForm" class="am-form">
						<fieldset>
							<div class="widget am-cf tpl-form-border-form tpl-form-border-br">
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">用户名：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.userName" placeholder="输入用户名（至少 3 个字符）"
											minlength="3" required>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">密码：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type="password" class="am-form-field am-input-sm"
											v-model="userInfo.password" placeholder="输入密码（至少 6 个字符）"
											minlength="6" required id="password">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">密码确认：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type="password" class="am-form-field am-input-sm"
											v-model="surePassword" minlength="6" required
											data-equal-to="#password">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">姓名：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.nickName" required>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">邮箱：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type="email" class="am-form-field am-input-sm"
											v-model="userInfo.email" required>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">性别：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<label class="am-radio-inline am-warning"> <input
											type="radio" name="radio10" value="0" v-model="userInfo.sex"
											data-am-ucheck> 男
										</label> <label class="am-radio-inline am-warning"> <input
											type="radio" name="radio10" value="1" v-model="userInfo.sex"
											data-am-ucheck> 女
										</label>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">生日：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<div
											class="am-form-group am-form-icon am-input-group-sm tpl-form-border-form cl-p">
											<i class="am-icon-calendar"></i> <input type="text"
												class="am-form-field jeinput" placeholder="指定月份……"
												id="createMonth" readonly="readonly">
										</div>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding">
									<label class="am-u-sm-3 am-form-label am-text-right">婚姻：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<label class="am-radio-inline am-warning"> <input
											type="radio" name="radio11" value="0"
											v-model="userInfo.marryFlag" data-am-ucheck> 未婚
										</label> <label class="am-radio-inline am-warning"> <input
											type="radio" name="radio11" value="1"
											v-model="userInfo.marryFlag" data-am-ucheck> 已婚
										</label>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">地区：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">地址：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.address">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">邮编：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.postcode">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">单位：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.company">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">职位：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.position">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">电话：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.tel">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">手机：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm"
											v-model="userInfo.mobile"
											pattern="^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$">
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left"></div>
								</div>
								<div class="am-form-group am-padding-sm">
									<label class="am-u-sm-3 am-form-label am-text-right">验证：
									</label>
									<div class="am-u-sm-6 am-form-label am-text-center">
										<input type=text class="am-form-field am-input-sm" v-model="checkCode" required>
									</div>
									<div class="am-u-sm-3 am-form-label am-text-left">
										<font color=red>(必填)</font>
									</div>
								</div>
							</div>
							<div class="am-text-center am-padding-sm">
								<button class="am-btn am-btn-default am-btn-warning" type="submit" @click="submit" >确定</button>
								<button type="button" class="am-btn am-btn-default " onclick="reload()">重置</button>
							</div>
						</fieldset>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- Content End -->
	<!-- Footer Begin -->
	<div th:include="common :: footer"></div>
	<!-- Footer END -->

	<div th:include="common :: js"></div>
	<script type="text/javascript">
		var vm = new Vue({
			el : '#app',
			data : {
				userInfo : {
					sex : 0,
					marryFlag : 0,
				},
				surePassword : "",
				checkCode: "",
			},
			mounted : function() {

			},
			methods : {
				submit : function() {
					if(vm.checkInfo()) {
						hzToolObj.postRpc("/user/users_register", vm.userInfo ).done(function(result){
							if (result.code == 0) {
								window.location.href="/index";
							} else {
								layer.msg(result.msg);
							}
						});
					}
				},
				checkInfo : function() {
					//$('#registerForm').validator({});
					if (vm.userInfo.password != vm.surePassword) {
						layer.alert("两次密码不一直，请确认！");
						vm.surePassword = "";
						return false;
					} else if(!vm.userInfo.userName){
						return false;
					} else if(!vm.userInfo.nickName){
						return false;
					} else if(!vm.userInfo.email){
						return false;
					} else if(!vm.checkCode){
					} else {
						vm.userInfo.password = hex_md5(vm.userInfo.password);
						return true;
					}
				},
			}
		});
		jeDate(".jeinput", {
			isinitVal : true,
			initDate : [ {
				YYYY : 1988,
				MM : 01,
				DD : 01
			}, false ],
			format : "YYYY-MM-DD",
			minDate : "1918-01-01",
			maxDate : "2018-12-31",
			isToday : false,
			isClear : false,
			clearRestore : false,
			donefun : function(obj) {
				// alert(jeDate.getLunar(obj.date));
			}
		});
	</script>
</body>
</html>
